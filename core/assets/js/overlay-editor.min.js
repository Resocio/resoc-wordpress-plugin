var rseInitOverlayEditor=function(e,t,a,n){var i,o,r,l=e.find(".rse-image-selection-button"),d=e.find(".rse-overlay-creation-button"),s=e.find(".rse-image-selected-panel");const c=React.createElement,u=e.find(".rse-overlay-editor")[0];ReactDOM.render(c(RFGSocialEditor.StandaloneOverlayEditor,{onCreated:function(e){i=e}}),u),l.on("click",function(e){if(e.preventDefault(),o)return void o.open();o=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),o.on("select",function(){attachment=o.state().get("selection").first().toJSON(),imageUrl=attachment.url,i.setImage(imageUrl),r=attachment.id,s.show(),l.removeClass("button-primary"),l.addClass("button-secondary")}),o.open()}),d.on("click",function(e){e.preventDefault();var o=JSON.stringify({image_id:r,image_settings:i.getImageEditionState()}),l={action:a,request:o};d.attr("disabled","disabled"),jQuery.ajax({type:"POST",data:l,dataType:"json",url:t,success:function(e){console.log("DONE",e),tb_remove(),d.removeAttr("disabled"),n&&n(e)},error:function(e,t,a){console.log("Cannot create overlay",e),d.removeAttr("disabled")}})}),console.log("Overlay editor initialized")};